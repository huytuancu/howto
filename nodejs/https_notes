# colloect important notes for setting basic node.js https server

How HTTPS Works
  Client initiates a secure connection to the server
  Server presents its SSL/TLS certificate to the client
  Client verifies the certificate with a trusted Certificate Authority (CA)
  Encrypted session is established using asymmetric encryption
  Symmetric encryption is used for the actual data transfer

Note: Modern HTTPS uses TLS (Transport Layer Security), which is the successor to SSL (Secure Sockets Layer). The terms are often used interchangeably, but SSL is now considered deprecated.

// Using require()
const https = require('https');

// Using import (requires "type": "module" in package.json) | Node.js version 14+
import https from 'https';

Note: The main difference in usage is that HTTPS requires SSL/TLS certificates, while HTTP does not.

Types of Certificates
  Self-Signed Certificates: For development and testing (not trusted by browsers) | for test
  Domain Validated (DV): Basic validation, just verifies domain ownership
  Organization Validated (OV): Validates organization details  | for production
  Extended Validation (EV): Highest level of validation, shows company name in browser
  Wildcard Certificates: Secures all subdomains of a domain | for production
  Multi-Domain (SAN) Certificates: Secures multiple domains with one certificate | for production

// For development, you can create self-signed certificates using OpenSSL:
# Generate a private key (RSA 2048-bit)
openssl genrsa -out key.pem 2048

# Generate a self-signed certificate (valid for 365 days)
openssl req -new -x509 -key key.pem -out cert.pem -days 365 -nodes

// Multi-Domain (SAN) Certificates | Subject Alternative Names:
# Create a config file (san.cnf)
cat > san.cnf << EOF
[req]
distinguished_name = req_distinguished_name
x509_extensions = v3_req
prompt = no
[req_distinguished_name]
C = US
ST = State
L = City
O = Organization
OU = Organizational Unit
CN = localhost
[v3_req]
keyUsage = keyEncipherment, dataEncipherment
extendedKeyUsage = serverAuth
subjectAltName = @alt_names
[alt_names]
DNS.1 = localhost
IP.1 = 127.0.0.1
EOF

# Generate key and certificate with SAN
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
-keyout key.pem -out cert.pem -config san.cnf -extensions 'v3_req'
